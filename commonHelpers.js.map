{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const pixabayKey = '44070637-4c17cd33bb35071a705149900';\n\nexport function sendRequest(query, handleResponse) {\n  const searchParams = new URLSearchParams({\n    key: pixabayKey,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(handleResponse)\n    .catch(error => console.log(error));\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function getLoaderHtml() {\n  return '<div class=\"loader\"></div>';\n}\n\nexport function showAlertNotFound() {\n  iziToast.error({\n    title: 'Error',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    position: 'topRight',\n  });\n}\n\nexport function getImageHtml(image) {\n  return `\n    <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"foto\" height=\"148\" width=\"360\">\n      <div class=\"info\" >\n        <p class=\"icon\">Likes: ${image.likes} </p>\n        <p class=\"icon\">Views: ${image.views}</p>\n        <p class=\"icon\">Comments: ${image.comments}</p>\n        <p class=\"icon\">Downloads: ${image.downloads}</p>\n      </div>\n    </a>`;\n}\n\nexport function getImagesHtml(images) {\n  return images.map(image => getImageHtml(image)).join('');\n}\n","import * as api from './js/pixabay-api';\nimport * as render from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', e => {\n  gallery.innerHTML = render.getLoaderHtml();\n\n  e.preventDefault();\n  const query = e.target.elements.searchInput.value.trim();\n  api.sendRequest(query, handleResponse);\n});\n\nfunction handleResponse(response) {\n  if (!response.total && response.total == 0) {\n    render.showAlertNotFound();\n    gallery.innerHTML = '';\n    return;\n  }\n  const images = response.hits;\n  console.log('response', response);\n  const galleryFilling = render.getImagesHtml(images);\n\n  gallery.innerHTML = galleryFilling;\n\n  render.lightbox.refresh();\n}\n"],"names":["pixabayKey","sendRequest","query","handleResponse","searchParams","response","error","lightbox","SimpleLightbox","getLoaderHtml","showAlertNotFound","iziToast","getImageHtml","image","getImagesHtml","images","form","gallery","render.getLoaderHtml","api.sendRequest","render.showAlertNotFound","galleryFilling","render.getImagesHtml","render.lightbox"],"mappings":"6vBAAA,MAAMA,EAAa,qCAEZ,SAASC,EAAYC,EAAOC,EAAgB,CACjD,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BE,CAAY,EAAE,EACpD,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKF,CAAc,EACnB,MAAMG,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CCfO,MAAMC,EAAW,IAAIC,EAAe,aAAc,CACvD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,GAAgB,CAC9B,MAAO,4BACT,CAEO,SAASC,GAAoB,CAClCC,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACd,CAAG,CACH,CAEO,SAASC,EAAaC,EAAO,CAClC,MAAO;AAAA,eACMA,EAAM,aAAa;AAAA,kBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,iCAEvBA,EAAM,KAAK;AAAA,iCACXA,EAAM,KAAK;AAAA,oCACRA,EAAM,QAAQ;AAAA,qCACbA,EAAM,SAAS;AAAA;AAAA,SAGpD,CAEO,SAASC,EAAcC,EAAQ,CACpC,OAAOA,EAAO,IAAIF,GAASD,EAAaC,CAAK,CAAC,EAAE,KAAK,EAAE,CACzD,CCnCA,MAAMG,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAK,iBAAiB,SAAU,GAAK,CACnCC,EAAQ,UAAYC,IAEpB,EAAE,eAAc,EAChB,MAAMhB,EAAQ,EAAE,OAAO,SAAS,YAAY,MAAM,OAClDiB,EAAgBjB,EAAOC,CAAc,CACvC,CAAC,EAED,SAASA,EAAeE,EAAU,CAChC,GAAI,CAACA,EAAS,OAASA,EAAS,OAAS,EAAG,CAC1Ce,IACAH,EAAQ,UAAY,GACpB,MACD,CACD,MAAMF,EAASV,EAAS,KACxB,QAAQ,IAAI,WAAYA,CAAQ,EAChC,MAAMgB,EAAiBC,EAAqBP,CAAM,EAElDE,EAAQ,UAAYI,EAEpBE,EAAgB,QAAO,CACzB"}